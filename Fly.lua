-- v1.0

local UIS = game:GetService('UserInputService')
local RunService = game:GetService('RunService')

local Player = game.Players.LocalPlayer
local Character = Player.Character

local Mouse = Player:GetMouse()
local Camera = workspace.CurrentCamera

local Fly = false
local FlySpeed = 130

ctrl = {f = 0, b = 0, l = 0, r = 0}

RunService.RenderStepped:Connect(function()
	if Fly then
		local bv = Instance.new("BodyVelocity", Character.HumanoidRootPart)
		Character.HumanoidRootPart.Anchored = false
		bv.maxForce = Vector3.new(4000000, 4000000, 4000000)
		bv.Name = "dont2"
		bv.velocity = ((Camera.CoordinateFrame.lookVector * (ctrl.f + ctrl.b)) + ((Camera.CoordinateFrame * CFrame.new(ctrl.l + ctrl.r, (ctrl.f + ctrl.b) * .2, 0).Position) - Camera.CoordinateFrame.p)) * FlySpeed / 1.5
	end
end)

Mouse.KeyUp:Connect(function(key)
	if key:lower() == "w" then
		ctrl.f = 0
	elseif key:lower() == "s" then
		ctrl.b = 0
	elseif key:lower() == "a" then
		ctrl.l = 0
	elseif key:lower() == "d" then
		ctrl.r = 0
	end
end)

Mouse.KeyDown:Connect(function(key)
	if key:lower() == "w" then
		ctrl.f = 1
	elseif key:lower() == "s" then
		ctrl.b = -1
	elseif key:lower() == "a" then
		ctrl.l = -1
	elseif key:lower() == "d" then
		ctrl.r = 1
	end
end)

UIS.InputBegan:Connect(function(input)
	if input.KeyCode == Enum.KeyCode.F1 then
		Fly = not Fly
	end
end)
