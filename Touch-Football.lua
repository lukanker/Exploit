-- Made by lukanker
-- v1.1

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Touch Football", "DarkTheme")
local CharacterTab = Window:NewTab("Character")
local CharacterSection = CharacterTab:NewSection("Change Hitbox")
local VisualTab = Window:NewTab("Visual")
local VisualSection = VisualTab:NewSection("Hitbox")

local Player = game.Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Hrp = Character:WaitForChild('HumanoidRootPart')

local Hitbox = Character:FindFirstChild('Hitbox')
local HitboxSize = nil

local Script = workspace.Character.BallHandler
local senv = getsenv(Script)

local touchDetect = senv.touchDetect

getgenv().VisualToggle = false

function createVisual(size)
    if not Hitbox then Hitbox = Instance.new('Part') end
    Hitbox.Shape = Enum.PartType.Cylinder
    Hitbox.Parent = Character
    Hitbox.Name = 'Hitbox'
    Hitbox.Size = Vector3.new(5,size,size)
    Hitbox.Position = Hrp.Position
    Hitbox.CanCollide = false
    Hitbox.Massless = true
    if getgenv().VisualToggle then
        Hitbox.Transparency = 0.8
    else
        Hitbox.Transparency = 1
    end
    Hitbox.Material = Enum.Material.Neon

    local Weld = Instance.new('Weld')
    Weld.Parent = Character
    Weld.Part0 = Hrp
    Weld.Part1 = Hitbox
    
    Hitbox.Orientation = Vector3.new(0, 0, 90)
end

CharacterSection:NewTextBox("Size", "Size in studs", function(txt)
    HitboxSize = tonumber(txt)
    setconstant(touchDetect, 9, HitboxSize / 2)
    createVisual(HitboxSize)
end)

VisualSection:NewToggle("Show", "Toggle visual of hitbox", function(state)
    getgenv().VisualToggle = state
    if state and Hitbox then
        Hitbox.Transparency = 0.8
    else
        Hitbox.Transparency = 1
    end
end)
